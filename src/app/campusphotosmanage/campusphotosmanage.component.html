<div class="container" style="width:100%">
  <div class="rows">
    <h2>營隊花絮管理</h2>
  </div>
  <ngx-datatable *ngIf="showtable" class="material fullscreen" [columnMode]="'force'" [scrollbarH]="true" [rows]="rows" [columns]="columns"
    [footerHeight]="50" [rowHeight]="'auto'">
    <div *ngFor="let column of columns">
      <div *ngIf="column.prop=='id'  else elseBlock">
        <ngx-datatable-column name="">
          <ng-template let-row="row" ngx-datatable-cell-template>

            <div style=" display: flex;
                      align-items: center;
                      justify-content: space-around;
                       cursor: pointer; cursor: hand;
                      ">
              <span (click)="onDetail(row.id)">pageview</span>
              <span (click)="onEdit(row.id)">edit</span>
              <span (click)="onDelete(row.id)">delete</span>
            </div>
          </ng-template>
        </ngx-datatable-column>
      </div>
      <ng-template #elseBlock>
        <ngx-datatable-column [name]="column.prop">
          <ng-template let-row="row" ngx-datatable-cell-template>
            {{row[column.prop]}}
          </ng-template>
        </ngx-datatable-column>
      </ng-template>
    </div>
  </ngx-datatable>

  <div class="row">
    <form class="col s12" (ngSubmit)="onSubmit(f)" #f="ngForm">
      <div class="row">
        <div class="input-field col s12">
          <input placeholder="營隊花絮名稱" id="title" type="text" class="validate" name="title" [(ngModel)]="CampusEventPhotos['Name']"
            required>
        </div>
      </div>

      <div class="row">
        <div class="input-field col s12">
          <input placeholder="完整營隊花絮網址" name="websignurl" [(ngModel)]="CampusEventPhotos['GallaryUrl']" type="text" class="validate"
            required>
        </div>
      </div>
      <div class="row">

        <image-upload [buttonCaption]="'上傳活動照片(最多三種)'" [dropBoxMessage]="'Drop Your DM'" (onFileUploadFinish)="imageUploaded($event)"
          (onRemove)="imageRemoved($event)" (isPending)="disableSendButton($event)" [max]="3" [fileTooLargeMessage]="'圖片容量太大'">
        </image-upload>
      </div>
      <div *ngIf="isFinishSubmit ;else elseblock">
        <button class="btn waves-effect waves-light" type="submit" name="action">上傳
    <i class="material-icons left">file_upload</i>
  </button>
      </div>

      <ng-template #elseblock>
        <div class="progress">
          <div class="indeterminate"></div>
        </div>
      </ng-template>

    </form>

  </div>
</div>
